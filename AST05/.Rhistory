flights_df <- na.omit(flights)
# Compute flight delay cost for every flight. And delay cost into dataset
# Hint: Cost Index=[(number of flights)*mean(delay)/mean(distance)]
library(plyr)
flights_count = count(flights_df,"flight") #number of flights
flights_df<-merge(x=flights_df,y=flights_count,by="flight",all.x=TRUE) #append frequency of flights
flights_mean = ddply(flights_df, .(flight), summarize,  mean_arr_delay=mean(arr_delay), mean_distance=mean(distance))
flights_df<-merge(x=flights_df,y=flights_mean,by="flight",all.x=TRUE) #append frequency of flights
flights_df$delay_cost = flights_df$freq*flights_df$mean_arr_delay/flights_df$mean_distance
library("nycflights13")
# Remove NA values
flights_df <- na.omit(flights)
# Compute flight delay cost for every flight. And delay cost into dataset
# Hint: Cost Index=[(number of flights)*mean(delay)/mean(distance)]
library(plyr)
flights_count = count(flights_df,"flight") #number of flights
flights_df<-merge(x=flights_df,y=flights_count,by="flight",all.x=TRUE) #append frequency of flights
flights_mean = ddply(flights_df, .(flight), summarize,  mean_arr_delay=mean(arr_delay), mean_distance=mean(distance))
flights_df<-merge(x=flights_df,y=flights_mean,by="flight",all.x=TRUE) #append frequency of flights
flights_df$delay_cost = flights_df$freq*flights_df$mean_arr_delay/flights_df$mean_distance
View(flights_mean)
View(flights_df)
df <-flights_df[order(-flights_df$arr_delay),]
head(df)
flights_df %>% arrange(desc(arr_delay))
library(tidyverse)
flights_df %>% arrange(desc(arr_delay))
flights_df %>% arrange(desc(as.integer(arr_delay)))
flights_df %>% arrange(desc(arr_delay))
top50 <- flights_df %>% arrange(desc(arr_delay))
top50 <- top50[1:50,]
View(top50)
delay_mat <- matrix(top50)
View(flights_count)
View(flights_df)
View(flights_mean)
#Create the correlation heatmap with ggplot2
library(ggplot2)
library(reshape2)
head(mtcars)
mydata <- mtcars[, c(1,3,4,5,6,7)]
head(mydata)
#Compute the correlation matrix
cormat <- round(cor(mydata),2)
head(cormat)
melted_cormat <- melt(cormat)
head(melted_cormat)
ggplot(data = melted_cormat, aes(x=Var1, y=Var2, fill=value)) +
geom_tile()
View(flights_df)
library(ggplot2)
mydata <- mtcars[, c("flight","distance","arr_delay","delay_cost")]
head(mydata)
library(ggplot2)
mydata <- top50[, c("flight","distance","arr_delay","delay_cost")]
head(mydata)
#Compute the correlation matrix
cormat <- round(cor(mydata),2)
head(cormat)
melted_cormat <- melt(cormat)
head(melted_cormat)
ggplot(data = melted_cormat, aes(x=Var1, y=Var2, fill=value)) +
geom_tile()
library(ggplot2)
mydata <- delay_mat[, c("flight","distance","arr_delay","delay_cost")]
head(mydata)
#National Basketball Association player stats
nba <- read.csv("ppg2008.csv")
nba
nba <- nba[order(nba$PTS),]
nba
row.names(nba) <- nba$Name
nba <- nba[,2:19]
nba_matrix <- data.matrix(nba)
nba_heatmap <- heatmap(nba_matrix, Rowv=NA, Colv=NA,
col = cm.colors(256), scale="column", margins=c(5,10),
xlab = "NBA Player Stats",
ylab = "NBA Players",
main = "NBA Payer Stats in 2008")
View(delay_mat)
View(flights_df)
delay_mat <- matrix(top50["flight","distance","arr_delay","delay_cost"])
top50 <- flights_df %>% arrange(desc(arr_delay))
top50 <- top50[1:50,]
View(top50)
top50[:,"flight","distance","arr_delay","delay_cost"]
top50[,"flight","distance","arr_delay","delay_cost"]
top50 <- flights_df %>% arrange(desc(delay_cost))
top50 <- top50[1:50,]
View(top50)
select_df <- select(flights_df, "freq","mean_distance","mean_delay", "delay_cost")
View(flights_df)
select_df <- select(flights_df, "freq","mean_arr_distance","mean_delay", "delay_cost")
select_df <- select(flights_df, "freq","mean_distance","mean_arr_delay", "delay_cost")
View(select_df)
select_df <- select(flights_df, "freq","mean_distance","mean_arr_delay", "delay_cost")
select_df <- unique(select_df)
View(select_df)
select_df <- select(flights_df, "freq","mean_distance","mean_arr_delay", "delay_cost")
select_df <- unique(select_df)
top50 <- select_df %>% arrange(desc(delay_cost))
top50 <- top50[1:50,]
View(top50)
delay_mat <- matrix(top50)
library(ggplot2)
flight_heatmap <- heatmap(delay_mat, Rowv=NA, Colv=NA,
col = cm.colors(256), scale="column", margins=c(5,10),
main = "Flight Delay Stats in 2013")
flight_heatmap
View(delay_mat)
View(melted_cormat)
nba <- read.csv("ppg2008.csv")
nba
nba <- read.csv("ppg2008.csv")
nba
nba <- read.csv("C:\Users\Tanya\Desktop\LAB\DV\ppg2008.csv")
nba
nba <- read.csv("C:\\Users\\Tanya\\Desktop\\LAB\\DV\\ppg2008.csv")
nba
nba <- nba[order(nba$PTS),]
nba
row.names(nba) <- nba$Name
nba <- nba[,2:19]
nba_matrix <- data.matrix(nba)
View(nba_matrix)
View(nba_matrix)
View(nba)
nba_heatmap <- heatmap(nba_matrix, Rowv=NA, Colv=NA,
col = cm.colors(256), scale="column", margins=c(5,10),
xlab = "NBA Player Stats",
ylab = "NBA Players",
main = "NBA Payer Stats in 2008")
nba_heatmap <- heatmap(nba_matrix, Rowv=NA, Colv=NA,
col = cm.colors(256), scale="column", margins=c(5,10),
xlab = "NBA Player Stats",
ylab = "NBA Players",
main = "NBA Payer Stats in 2008")
View(nba_matrix)
View(nba)
View(select_df)
View(flights_df)
View(top50)
delay_mat <- matrix(top50)
delay_mat <- data.matrix(top50)
View(delay_mat)
library(ggplot2)
flight_heatmap <- heatmap(delay_mat, Rowv=NA, Colv=NA,
col = cm.colors(256), scale="column", margins=c(5,10),
main = "Flight Delay Stats in 2013")
flight_heatmap
library(ggplot2)
flight_heatmap <- heatmap(delay_mat, Rowv=NA, Colv=NA,
col = cm.colors(256), scale="column", margins=c(5,10),
main = "Flight Delay Stats in 2013")
flight_heatmap
flight_heatmap <- heatmap(delay_mat, Rowv=NA, Colv=NA,
col = cm.colors(256), scale="column", margins=c(5,10),
xlab = "Flight Stats",
ylab = "Flight Number",
main = "Flight Delay Stats in 2013")
flight_heatmap
flight_heatmap <- heatmap(delay_mat, Rowv=NA, Colv=NA,
col = heat.colors(256), scale="column", margins=c(5,10),
xlab = "Flight Stats",
ylab = "Flight Number",
main = "Flight Delay Stats in 2013")
flight_heatmap
